{
  "rules": {
    ".read": false,
    ".write": false,
    "reward_inbox": {
      "$playerID": {
        ".read": true,
        ".write": true,
        ".indexOn": "time"
      }
    },
    "tournaments": {
      "$tournament": {
        "coins_wagered": {
          ".read": true,
          ".write": true
        },
        "current_state": {
          ".read": true
        },
        "leaderboard": {
          "$sessionID": {
            "scores": {
              ".read": "(query.orderByChild == 'score') && ((query.limitToFirst != null && query.limitToFirst <= 10) || (query.limitToLast != null || query.limitToLast <= 10))",
              ".indexOn": "score",
              "$playerID": {
                ".read": true,
                ".write": true
              }
            },
            "buckets": {
              ".read": true,
              ".write": true
            }
          }
        }
      }
    },
    "fbIdMap": {
      "$playerFBID": {
        ".read": true,
        ".write": true,
        ".indexOn": "time"
      }
    },
    "users": {
      "$playerID": {
        ".read": true,
        ".write": true,
        ".indexOn": [
          "coins",
          "fbid"
        ],
        "name": {
          ".validate": "newData.isString()"
        },
        "score": {
          ".validate": "newData.isNumber() && newData.val() >= 0"
        }
      }
    },
    "leaderboards": {
      "$leaderboardName": {
        "$leaderboardType": {
          "scores": {
            ".read": "query.orderByChild == 'score' && query.limitToLast <= 100",
            ".indexOn": "score",
            "$playerID": {
              ".read": true,
              ".write": true
            }
          },
          "buckets": {
            ".read": true,
            ".write": true
          }
        }
      }
    }
  }
}
